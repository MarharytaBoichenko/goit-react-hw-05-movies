(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{43:function(e,t,n){"use strict";var c="https://api.themoviedb.org/3/",o="3235240fde1a44b4e45cd09b4117d7e1";var r={fetchTrendFilms:function(e){return fetch("".concat(c,"trending/all/day?api_key=").concat(o)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmsOnQuery:function(e){return fetch("".concat(c,"search/movie?api_key=").concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(e,"&page=1")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmById:function(e){return fetch("\n".concat(c,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmCredits:function(e){return fetch("\n".concat(c,"movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No data  found"))}))},fetchFilmReviews:function(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No data  found"))}))}};t.a=r},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(1),o=n(8),r=n(45),a=n.n(r),i=n(2);function u(e){var t=e.films;console.log(t);var n=Object(c.g)();return console.log(n),Object(i.jsx)("ul",{className:a.a.list,children:t.map((function(e){var t=e.id,c=e.name,r=e.title;return Object(i.jsx)(o.b,{to:"/movies/".concat(t),state:{from:n},children:c?Object(i.jsx)("li",{className:a.a.item,children:c}):Object(i.jsx)("li",{className:a.a.item,children:r})},t)}))})}},45:function(e,t,n){e.exports={item:"ListOnSearch_item__1dqI2",list:"ListOnSearch_list__luddA"}},48:function(e,t,n){e.exports={form:"SearchForm_form__qWosj",input:"SearchForm_input__zWLnu",button:"SearchForm_button__1AUaN"}},57:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var c=n(5),o=n(0),r=n(8),a=n(11),i=n(48),u=n.n(i),s=n(2);function l(e){var t=e.onSubmit,n=Object(o.useState)(""),i=Object(c.a)(n,2),l=i[0],f=i[1],j=Object(r.d)(),m=Object(c.a)(j,2),b=(m[0],m[1]);return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===l.trim()&&Object(a.b)("Enter your  query");var n={};n.query=l,b(n),console.log("got  query  pass query  to moviepage"),t(l),f("")},className:u.a.form,children:[Object(s.jsx)("label",{children:Object(s.jsx)("input",{type:"text",value:l,placeholder:"Enter  your query",onChange:function(e){console.log(e.target.value),f(e.target.value)},className:u.a.input})}),Object(s.jsx)("button",{type:"submit",className:u.a.button,children:"Search"})]})}var f=n(44),j=n(43),m=n(10);function b(){var e=Object(o.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],u=Object(o.useState)([]),b=Object(c.a)(u,2),h=b[0],d=b[1],O=Object(o.useState)(null),g=Object(c.a)(O,2),v=(g[0],g[1]),p=Object(o.useState)(!1),y=Object(c.a)(p,2),_=y[0],S=y[1],x=Object(r.d)(),F=Object(c.a)(x,2),k=F[0],q=F[1],w=k.get("query")||"";Object(o.useEffect)((function(){console.log(w),w&&N(w)}),[]),Object(o.useEffect)((function(){""!==n&&(console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f "),N(n))}),[n]);var N=function(e){var t=j.a.fetchFilmsOnQuery;e&&(console.log("query  film for render"),S(!0),t(e).then((function(e){if(0===e.results.length)return console.log("no  films"),void Object(a.b)("No  films  found");console.log(e.results),d(e.results),S(!1),q({query:w})})).catch((function(e){return v(e)})))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{onSubmit:function(e){i(e),console.log(e)}}),_&&Object(s.jsx)(m.a,{}),h&&Object(s.jsx)(f.a,{films:h})]})}}}]);
//# sourceMappingURL=MoviesPage.db9c1d4c.chunk.js.map