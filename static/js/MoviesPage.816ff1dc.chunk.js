(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{43:function(e,t,n){"use strict";var c="https://api.themoviedb.org/3/",o="3235240fde1a44b4e45cd09b4117d7e1";var r={fetchTrendFilms:function(e){return fetch("".concat(c,"trending/all/day?api_key=").concat(o)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmsOnQuery:function(e){return fetch("".concat(c,"search/movie?api_key=").concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(e,"&page=1")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmById:function(e){return fetch("\n".concat(c,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Film  not found"))}))},fetchFilmCredits:function(e){return fetch("\n".concat(c,"movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No data  found"))}))},fetchFilmReviews:function(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No data  found"))}))}};t.a=r},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){e.map((function(e){return e.named=e.name?e.name:e.title,e.named}))}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(8),o=n(46),r=n.n(o),a=n(2);function u(e){var t=e.films;return console.log(t),Object(a.jsx)("ul",{className:r.a.list,children:t.map((function(e){var t=e.id,n=e.named;return Object(a.jsx)(c.b,{to:"/movies/".concat(t),children:Object(a.jsx)("li",{className:r.a.item,children:n})},t)}))})}},46:function(e,t,n){e.exports={item:"ListOnSearch_item__1dqI2",list:"ListOnSearch_list__luddA"}},49:function(e,t,n){e.exports={form:"SearchForm_form__qWosj",input:"SearchForm_input__zWLnu",button:"SearchForm_button__1AUaN"}},59:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var c=n(5),o=n(0),r=n(8),a=n(11),u=n(49),i=n.n(u),s=n(2);function l(e){var t=e.onSubmit,n=Object(o.useState)(""),u=Object(c.a)(n,2),l=u[0],f=u[1],m=Object(r.d)(),j=Object(c.a)(m,2),b=(j[0],j[1]);return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===l.trim()&&Object(a.b)("Enter your  query");var n={};n.query=l,b(n),console.log("got  query  pass query  to moviepage"),t(l),f("")},className:i.a.form,children:[Object(s.jsx)("label",{children:Object(s.jsx)("input",{type:"text",value:l,placeholder:"Enter  your query",onChange:function(e){console.log(e.target.value),f(e.target.value)},className:i.a.input})}),Object(s.jsx)("button",{type:"submit",className:i.a.button,children:"Search"})]})}var f=n(45),m=n(43),j=n(44),b=n(10);function d(){var e=Object(o.useState)(""),t=Object(c.a)(e,2),n=t[0],u=t[1],i=Object(o.useState)([]),d=Object(c.a)(i,2),h=d[0],O=d[1],g=Object(o.useState)(null),v=Object(c.a)(g,2),p=(v[0],v[1]),y=Object(o.useState)(!1),_=Object(c.a)(y,2),S=_[0],x=_[1],F=Object(r.d)(),k=Object(c.a)(F,2),q=k[0],w=k[1],E=q.get("query")||"";Object(o.useEffect)((function(){console.log(E),E&&N(E)}),[]),Object(o.useEffect)((function(){""!==n&&(console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f "),N(n))}),[n]);var N=function(e){var t=m.a.fetchFilmsOnQuery;e&&(console.log("query  film for render"),x(!0),t(e).then((function(e){if(0===e.results.length)return console.log("no  films"),void Object(a.b)("No  films  found");console.log(e.results);var t=Object(j.a)(e.results);console.log(t),O(e.results),x(!1),w({query:E})})).catch((function(e){return p(e)})))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{onSubmit:function(e){u(e),console.log(e)}}),S&&Object(s.jsx)(b.a,{}),h&&Object(s.jsx)(f.a,{films:h})]})}}}]);
//# sourceMappingURL=MoviesPage.816ff1dc.chunk.js.map