{"version":3,"sources":["components/Container/Container.js","components/Navigation/Navigation.js","components/Header/Header.js","hooks/useFetch.js","components/List/List.js","helpers/mapper.js","views/HomePage/HomePage.js","components/SearchForm/SearchForm.js","views/MoviesPage/MoviesPage.js","views/MovieDetailsPage/MovieDetailsPage.js","App.js","index.js"],"names":["Container","children","Navigation","to","Header","api","fetchFilms","query","fetch","then","response","ok","json","Promise","reject","Error","List","useState","films","setFilms","useEffect","data","results","console","log","correctFilms","map","film","named","name","title","mapper","id","HomePage","SearchForm","onSubmit","setQuery","e","preventDefault","trim","type","value","onChange","target","MoviesPage","queryFilms","setQueryFilms","setError","fetchImgOnQuery","length","toast","catch","error","searchData","MovieDetailsPage","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c68e0e7c.chunk.js","sourcesContent":["export default function Container({ children }) {\n  return <div>{children}</div>;\n}\n","import { NavLink } from 'react-router-dom';\nexport default function Navigation() {\n  return (\n    <nav>\n      <NavLink to=\"/\">Home</NavLink>\n      <NavLink to=\"/movies\">Movies</NavLink>\n    </nav>\n  );\n}\n","import Navigation from '../Navigation/Navigation';\nexport default function Header() {\n  return (\n    <header>\n      <Navigation />\n    </header>\n  );\n}\n","function fetchFilms(query) {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=3235240fde1a44b4e45cd09b4117d7e1`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Film  not found`));\n  });\n}\n\nconst api = {\n  fetchFilms,\n};\n\nexport default api;\n","import api from '../../hooks/useFetch';\nimport { useState, useEffect } from 'react';\nimport { mapper } from '../../components/../helpers/mapper';\nexport default function List() {\n  const [films, setFilms] = useState([]);\n\n  useEffect(() => {\n    api.fetchFilms().then(data => {\n      const { results } = data;\n      console.log(results);\n      const correctFilms = mapper(results);\n\n      console.log(correctFilms);\n      //   setFilms(mapper(results));\n      setFilms(results);\n    });\n  }, []);\n  //делает  запрос на трендовые фильмы  и рендерит список\n  console.log(films);\n  return (\n    <>\n      <p></p>\n      {films && (\n        <ul>\n          {films.map(({ id, named }) => (\n            <li key={id}>{named}</li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","export const mapper = films => {\n  films.map(film => {\n    film.named = film.name ? film.name : film.title;\n    console.log(film);\n    console.log(film.name);\n    console.log(film.title);\n    // if (film.name === 'undefined') {\n    //   return film.name === film.title;\n    // } else {\n    //   return film.name;\n    // }\n    // return film.name && film.title;\n    console.log(film.named);\n    return film.named;\n  });\n};\n","import Header from '../../components/Header/Header';\nimport List from '../../components/List/List';\nexport default function HomePage({ children }) {\n  return (\n    <>\n      <Header>{children}</Header>\n      <List />\n    </>\n  );\n}\n","import { useState } from 'react';\nexport default function SearchForm({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const onChangeHandler = e => {\n    console.log(e.target.value);\n    setQuery(e.target.value);\n  };\n  const onFormSubmitHandler = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return;\n      // сделать тостер нотифик\n      // toast('Enter your  query');\n    }\n    console.log('got  query  pass query  to moviepage');\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form onSubmit={onFormSubmitHandler}>\n      <label>\n        <input\n          type=\"text\"\n          //   name\n          value={query}\n          onChange={onChangeHandler}\n        />\n      </label>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport api from '../../hooks/useFetch';\nimport { mapper } from '../../components/../helpers/mapper';\nimport { toast } from 'react-toastify';\nexport default function MoviesPage() {\n  const [queryFilms, setQueryFilms] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleSearchSubmit = searchData => {\n    setQueryFilms(searchData);\n    console.log(searchData);\n  };\n\n  useEffect(() => {\n    if (queryFilms === '') {\n      return;\n    }\n    console.log(queryFilms);\n    console.log('запрос изменился ');\n    fetchImgOnQuery();\n  }, [queryFilms]);\n\n  const fetchImgOnQuery = () => {\n    const { fetchFilms } = api;\n    if (!queryFilms) {\n      return;\n    }\n    fetchFilms(queryFilms)\n      .then(data => {\n        console.log(data);\n        // const { results } = data;\n        if (data.results.length === 0) {\n          toast('No  films  found');\n          return;\n        }\n        console.log(data.results);\n        // const correctFilms = mapper(results);\n\n        // console.log(correctFilms);\n        //   setFilms(mapper(results));\n\n        setQueryFilms(data.results);\n      })\n      .catch(error => setError(error));\n  };\n  return (\n    <>\n      {' '}\n      <SearchForm onSubmit={handleSearchSubmit} />;\n      {/* {queryFilms && (\n        <ul>\n          {queryFilms.map(({ id, named }) => (\n            <li key={id}>{named}</li>\n          ))}\n        </ul>\n      )} */}\n    </>\n  );\n  // const [query, setQuery] = useState('');\n  // const onChangeHandler = e => {\n  //   console.log(e.target.value);\n  //   setQuery(e.target.value);\n  // };\n  // const onFormSubmitHandler = e => {\n  //   e.preventDefault();\n  //   if (query.trim() === '') {\n  //     return;\n  //     // сделать тостер нотифик\n  //     // toast('Enter your  query');\n  //   }\n  //   // onSubmit(query);\n  //   setQuery('');\n  // };\n  // return (\n  //   <form onSubmit={onFormSubmitHandler}>\n  //     <label>\n  //       <input\n  //         type=\"text\"\n  //         //   name\n  //         value={query}\n  //         onChange={onChangeHandler}\n  //       />\n  //     </label>\n  //     <button type=\"submit\">Search</button>\n  //   </form>\n  // );\n}\n","import { useState } from 'react';\n// import Cast from './components/Cast/Cast';\n// import Reviews from './components/Reviews/Reviews';\nexport default function MovieDetailsPage() {\n  //   const [query, setQuery] = useState('');\n  //   const onChangeHandler = e => {\n  //     console.log(e.target.value);\n  //     setQuery(e.target.value);\n  //   };\n  //   const onFormSubmitHandler = e => {\n  //     e.preventDefault();\n  //     if (query.trim() === '') {\n  //       return;\n  //       // сделать тостер нотифик\n  //       // toast('Enter your  query');\n  //     }\n  //     // onSubmit(query);\n  //   };\n  //   return (\n  //     <form onSubmit={onFormSubmitHandler}>\n  //       <label>\n  //         <input type=\"text\" name value={query} onChange={onChangeHandler} />\n  //       </label>\n  //       <button type=\"submit\">Search</button>\n  //     </form>\n  //   );\n}\n","import './App.css';\nimport { Routes, Route, Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from './components/Container/Container';\nimport HomePage from './views/HomePage/HomePage';\nimport MoviesPage from './views/MoviesPage/MoviesPage';\nimport MovieDetailsPage from './views/MovieDetailsPage/MovieDetailsPage';\n\nexport default function App() {\n  const onSearchSubmitHandler = searchData => {\n    console.log(searchData);\n    // сюда приходит  query  из формы поиска\n  };\n  return (\n    <Container>\n      {/* <HomePage /> */}\n      <ToastContainer />\n      <MoviesPage onSubmit={onSearchSubmitHandler} />\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        {/* <Route path=\"/movies\" element={<MoviesPage />} /> */}\n        <Route path=\"/movies/:movieId\" element={<MovieDetailsPage />} />\n        {/* <Route path=\"/movies/:movieId/cast\" element={<Cast />} /> */}\n        {/* вынести в MovieDetailsPage */}\n\n        {/* <Route path=\"/movies/:movieId/reviews\" element={<Reviews />} /> */}\n        {/* вынести в MovieDetailsPage */}\n\n        {/* <Route path=\"/authors//*\" element={<AuthorsView />} />\n      <Route path=\"/books\" element={<BooksView />} />\n      <Route path=\"//books/:bookId\" element={<BookDetailsView />} />\n      <Route path=\"*\" element={<NotFoundView />} /> */}\n      </Routes>\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}